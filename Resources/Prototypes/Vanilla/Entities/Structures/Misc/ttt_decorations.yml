
- type: entity
  id: WarheadTimerActivator
  components:
  - type: SignalOnTrigger
  - type: DeleteOnTrigger
  - type: DeviceLinkSource
    ports:
    - Pressed
    - Trigger
  - type: RepeatingTrigger
    delay: 300
  - type: AutoLinkTransmitter
    channel: WarheadTimer
  - type: Sprite
    sprite: Objects/Devices/signaller.rsi
    state: signaller
  - type: WirelessNetworkConnection
    range: 150
  - type: DeviceNetwork
    deviceNetId: Wireless
    receiveFrequencyId: BasicDevice
  - type: Signaller

- type: entity
  parent: [MarkerBase, BasePlasticExplosive]
  id: AlphaWarhead
  name: альфа боеголовка
  components:
  - type: Physics
    canCollide: False
    bodyType: Static
  - type: Transform
    anchored: false
  - type: Sprite
    layers:
    - state: green
  - type: TriggerOnActivate
  - type: TriggerOnSignal
  - type: TriggerOnStuck
    keyOut: stuck
  - type: ToggleTriggerCondition
    keys:
    - stuck
    toggleVerb: toggle-trigger-condition-stick-verb
    toggleOn: toggle-trigger-condition-stick-on
    toggleOff: toggle-trigger-condition-stick-off
  - type: TimerTrigger
    keysIn:
    - trigger
    - stuck
    delay: 120
    initialBeepDelay: 0
  - type: DeviceLinkSink
    ports:
    - Trigger
  - type: Explosive
    explosionType: FireKeepTiles
    totalIntensity: 800000
    intensitySlope: 5
    maxIntensity: 800000
    canCreateVacuum: true
  - type: ExplodeOnTrigger
    keysIn:
    - timer

- type: entity
  id: AlphaWarheadIntercom
  parent: MarkerBase
  components:
  - type: TriggerOnSignal
  - type: DeviceLinkSink
    ports:
      - Trigger
  - type: EmitSoundOnTrigger
    sound: /Audio/Vanilla/Effects/warhead.ogg
  - type: Sprite
    layers:
    - state: green

- type: entity
  id: IntercomTTTReceiver
  suffix: TTT, Ресивер
  name: интерком
  description: ЭСИПИ СОСАААААААААТЬ!
  parent: BaseWallmountMachine
  components:
  - type: ActiveRadio
    channels:
    - Handheld
  - type: Sprite
    noRot: false
    drawdepth: SmallObjects
    sprite: Structures/Wallmounts/intercom.rsi
    layers:
    - state: base
    - state: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
      shader: unshaded
    - state: broadcasting
      map: ["enum.RadioDeviceVisualLayers.Broadcasting"]
      shader: unshaded
      visible: false
    - state: speaker
      map: ["enum.RadioDeviceVisualLayers.Speaker"]
      shader: unshaded
      visible: false
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
      visible: false
  - type: RadioSpeaker
    channels:
    - Handheld
    enabled: true
  - type: TelecomExempt
  - type: Speech
    speechVerb: Robotic

- type: entity
  id: IntercomTTTTransmitter
  suffix: TTT, Трансмиттер
  name: интерком
  description: ЭСИПИ СОСАААААААААТЬ!
  parent: BaseWallmountMachine
  components:
  - type: Sprite
    noRot: false
    drawdepth: SmallObjects
    sprite: Structures/Wallmounts/intercom.rsi
    layers:
    - state: base
    - state: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
      shader: unshaded
    - state: broadcasting
      map: ["enum.RadioDeviceVisualLayers.Broadcasting"]
      shader: unshaded
      visible: false
    - state: speaker
      map: ["enum.RadioDeviceVisualLayers.Speaker"]
      shader: unshaded
      visible: false
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
      visible: false
  - type: RadioMicrophone
    broadcastChannel: Handheld
  - type: TelecomExempt
